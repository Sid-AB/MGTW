<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" dir="rtl" th:lang="${#locale.language}">

<head th:replace="notAuthenticated/fragments/head::head(${'title'},${'description'},${'keywords'})">
    <script th:src="@{/notAuthenticated/assets/js/vedio.js}"></script>
</head>
<body>

<!--   demarrage ou b1 star flash -->


<!-- Add image before the header -->

<header th:include="notAuthenticated/fragments/header::header" style="background-color: #0E2F4A"
        th:with="myObject=${complexesForNavBar},myObjectlFNBar=${loisForNavBar}"></header>


<!-- ======= Hero Section ======= -->
<section id="hero" class="d-flex align-items-center" style="background-color: #0E2F4A ;">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 d-flex flex-column justify-content-center pt-4 pt-lg-0 order-2 order-lg-1"
                 data-aos="fade-up" data-aos-delay="200">
                <h1 th:text="#{porteilgetway}">بوابة الاعلام الجزائري </h1>
                <h2 th:text="#{textt}"> بوابة الإعلام  الجزائري  منصتكم المتكاملة التي تربطكم بعالم الإعلام بكافة أشكاله هنا تجدون محتوى شامل يغطي الصحافة الإلكترونية، الصحافة المكتوبة، والإعلام السمعي البصري، بالإضافة إلى معلومات عن أبرز المؤسسات الإعلامية
                    هدفنا هو أن نكون مصدركم الأول للاطلاع على كل جديد في عالم الإعلام الحديث والمتجدد
                   </h2>
                <div class="d-flex justify-content-center justify-content-lg-start">

                    <form class="form-inline d-flex justify-content-center " action="#" th:action="@{/search}" method="get">
                        <input class="form-control mr-sm-2 w-100"  id="query" name="query" required type="search" th:placeholder="#{search}" aria-label="بحث ">
                        <button class="btn btn-outline-success my-2 my-sm-0 mx-2 " type="submit"><i
                                class="ri-search-2-line"></i></button>
                    </form>

                </div>
            </div>
            <!--div class="col-lg-6 order-1 order-lg-2 hero-img" data-aos="zoom-in" data-aos-delay="200">
                <a href="/videos/mediaCity.mp4" target="_blank"> < Chemin vers la vidéo >
                    <img th:src="@{notAuthenticated/assets/img/media city.png}" class="img-fluid animated" alt="Vidéo à regarder">
            </div-->
            <div class="col-lg-6 order-1 order-lg-2 hero-img" data-aos="zoom-in" data-aos-delay="200" onclick="openVideo()">
                <img th:src="@{notAuthenticated/assets/img/media city.png}" class="img-fluid animated" alt="Vidéo à regarder" id="videoTrigger" style="cursor: pointer;">
            </div>
           

            <div id="videoModal" class="modal">
                <div class="modal-content">
                    <span class="close" onclick="closeVideo()"><i class='bx bx-window-close'></i></span>
                    <video id="videoPlayer" width="100%" controls>
                        <source src="notAuthenticated/assets/videos/mediaCity.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
            </div>


        <!--div class="video-container" id="videoContainer" style="display: none;">
            <video width="600" controls>
                <source th:src="@{videos/mediaCity.mp4}" type="video/mp4">
               
            </video>
        </div-->
            
            
        </div>
    </div>

</section><!-- End Hero -->

<main id="main">

    <!-- ======= Clients Section ======= -->
    <section id="clients" class="clients section-bg">
        <div class="container">

            <div class="row" data-aos="zoom-in">

                <div class="col-lg-8 col-md-8 col-8 flex-column align-items-star ">
                    <h1 style="text-align: start" th:text="#{porteilgetway}">بوابة الاعلام الجزائري </h1>
                    <h2 style="text-align: start; font-size: 25px" th:text="#{text}"> بوابة الاعلام الجزائري بوابة الاعلام الجزائري بوابة
                        الاعلام </h2>

                </div>

                <div class="col-lg-4 col-md-4 col-4 d-flex align-items-center justify-content-center">
                    <button class="btn btn-outline-success my-2 my-sm-0 mx-2 " style="font-size: 30px" type="submit"><i
                            class=""></i> <span th:text="#{read}">إقرا</span>
                    </button>
                </div>


            </div>

        </div>
    </section><!-- End Cliens Section -->


    <!-- ======= Services Section ======= -->
    <section id="Soustutelle" class="services ">
        <div class="container" data-aos="fade-up">

            <div class="section-title">
                <h2 th:text="#{etablissement}">المؤسسات الإعلامية</h2>

            </div>
            <br>
            <div class="row">
                <div th:if="etablissementsSoustutelle" th:each="etablissementSoustutelle:${etablissementsSoustutelle}" class="col-6 col-sm-3 col-md-4  d-flex align-items-stretch " data-aos="zoom-in" data-aos-delay="100">
                    <div class="icon-box">
                        <div class="icon"><img
                                th:src="@{${'/etablissement/lugo/'+etablissementSoustutelle.getId()}}"
                                width="50px" height="50px">
                        </div>
                        <h4 th:switch="${#locale.language}">
                            <a  th:case="${'ar'}"
                                th:if="#{locale.language == 'ar'}"
                                th:href="${'/etablissement/'+etablissementSoustutelle.getId()}"
                                th:text="${etablissementSoustutelle.getName()}">
                            </a>
                            <a  th:case="${'fr'}"
                                th:if="#{locale.language == 'fr'}"
                                th:href="${'/etablissement/'+etablissementSoustutelle.getId()}"
                                th:text="${etablissementSoustutelle.getNameFr()}">
                            </a>
                            <a  th:case="${'en'}"
                                th:if="#{locale.language == 'en'}"
                                th:href="${'/etablissement/'+etablissementSoustutelle.getId()}"
                                th:text="${etablissementSoustutelle.getNameEn()}">
                            </a>
                    </h4>
                       <div th:switch="${#locale.language}">
                        <p th:case="${'ar'}"
                        th:if="#{locale.language == 'ar'}"
                           th:href="${'/etablissement/'+etablissementSoustutelle.getId()}"
                           th:text="${etablissementSoustutelle.getDescription().toString().substring(0,(etablissementSoustutelle.getDescription().length() &lt; 100 ? etablissementSoustutelle.getDescription().length() : 100 ))+'...' }">
                        </p>
                        <p th:case="${'fr'}"
                        th:if="#{locale.language == 'fr'}"
                           th:href="${'/etablissement/'+etablissementSoustutelle.getId()}"
                           th:text="${etablissementSoustutelle.getDescriptionFr().toString().substring(0,(etablissementSoustutelle.getDescriptionFr().length() &lt; 100 ? etablissementSoustutelle.getDescriptionFr().length() : 100 ))+'...' }">
                        </p>
                        <p th:case="${'en'}"
                        th:if="#{locale.language == 'en'}"
                           th:href="${'/etablissement/'+etablissementSoustutelle.getId()}"
                           th:text="${etablissementSoustutelle.getDescriptionEn().toString().substring(0,(etablissementSoustutelle.getDescriptionEn().length() &lt; 100 ? etablissementSoustutelle.getDescriptionEn().length() : 100 ))+'...' }">
                        </p>
                        </div>
                    </div>
                </div>
            </div>      
        </div>
    </section><!-- End Services Section -->

    <!-- ======= Services Section ======= -->
    <section id="Reglementationsectorielle" class="services ">
        <div class="container" data-aos="fade-up">

            <div class="section-title">
                <h2 th:text="#{organigrame}">تنظيم القطاع </h2>

            </div>
            <br>

            <div class=" d-flex justify-content-center" >

                <div class="row" hidden="hidden">
                    <div th:if="etablissementsReglementationsectorielle" th:each="ers:${etablissementsReglementationsectorielle}" class="col-6 col-sm-3 col-md-3  d-flex align-items-stretch " data-aos="zoom-in" data-aos-delay="100">
                        <div class="icon-box">
                            <div class="icon"><img
                                    th:src="@{${'/etablissement/lugo/'+ers.getId()}}"
                                    width="50px" height="50px">
                            </div>
                            <h4><a
                                    th:href="${'/etablissement/'+ers.getId()}"
                                    th:text="${ers.getName()}"
                            > </a></h4>
                            <p  th:href="${'/etablissement/'+ers.getId()}"
                                 th:text="${ers.getDescription().toString().substring(0,(ers.getDescription().length() &lt; 100 ? ers.getDescription().length() : 100 ))+'...'}"></p>
                        </div>
                    </div>
                </div>


                <div class="">


                 <div class="RDC">
                    <div class="level-one">
                        <div class="Diouan">
                           <a href="#"></a> 
                        </div>
                        <div class="ouazir">
                            <a href="#"></a> 
                        </div>
                        <div class="inspictiong">
                            <a href="#"></a> 
                        </div>
                    </div>

                    <div class="level-two">
                        <div class="secgen">
                            <a href=""></a>
                        </div>
                    </div>

                    <div class="level-th">

                        <div class="dam">
                            <a href="#"></a>
                        </div>
                        <div class="dloi">
                            <a href="#"></a>
                        </div>
                        <div class="daf">
                            <a href="#"></a>
                        </div>
                        <div class="dev">
                            <a href="#"></a>
                        </div>
                        <div class="emedia">
                            <a href="#"></a>
                        </div>
                        <div class="media">
                            <a href="#"></a>
                        </div>
                        

                    </div>
                 </div>

                 <div id="InfoModal" class="modal">
                    <div class="modal-content">
                        <div class="card">
                            <p>[[#{name}]] :<strong id="Nom"></strong></p>
                            <p >[[#{prenom}]] :<strong id="Prenom"></strong></p>
                            <p >[[#{email}]] :<strong id="Email"></strong></p>
                            <p >[[#{phone}]] :<strong id="Phone"></strong></p>
                            <p class="card-footer"><strong id="nomDirection"></strong></p>
                          </div>
                    </div>
                </div>

                    <div class="img-wrap">
                        <a href="">
                        <img th:src="@{${'/notAuthenticated/assets/img/histograme.png'}}" alt="Image" class="img-fluid">
                        </a>
                    </div>
                </div>


            </div>

        </div>
    </section><!-- End Services Section -->


</main><!-- End #main -->
<footer th:replace="notAuthenticated/fragments/footer::footer" class="footer">
</footer>

<div id="preloader" class="waitting">
    <svg th:include="notAuthenticated/fragments/logosvg::logosvg" width="120" height="120" viewBox="0 0 2342 2004" version="1.1" class="inSide">
    </svg>  
</div>

<div th:replace="notAuthenticated/fragments/js::js"></div>
<script>
    // JavaScript to open the video in a new window when the image is clicked
 /*   document.getElementById('videoTrigger').addEventListener('click', function () {
        // Specify the URL of the video file
        var videoUrl = 'notAuthenticated/assets/videos/mediaCity.mp4'; // Change this if necessary
        // Open a new window with the video
        window.open(videoUrl, '_blank');
    });*/

   function openVideo() {
    var modal = document.getElementById("videoModal");
    var video = document.getElementById("videoPlayer");
    
    // Show the modal
    modal.style.display = "block";
    
    // Play the video
    video.play();
  }
  
  // Function to close the video modal
  function closeVideo() {
    var modal = document.getElementById("videoModal");
    var video = document.getElementById("videoPlayer");
    
    // Hide the modal
    modal.style.display = "none";
    
    // Pause and reset the video
    video.pause();
    video.currentTime = 0;
  }
  /*function directions(response, index) {
    $('#InfoModal').css('display', 'block');
    $('#Nom').text(response[index].nomDirecteur);
    $('#Prenom').text(response[index].prenomDirecteur);
    $('#Email').text(response[index].emailDirecteur);
    $('#Phone').text(response[index].phoneDirecteur);
    $('#nomDirection').text(response[index].nomDirection);
    // Cacher la section RDC
    $('.RDC').css('display', 'none');
    
    // Fermer le modal si on clique en dehors
    $(window).on('click', function(event) {
        if ($(event.target).is($('#InfoModal'))) {
            $('#InfoModal').css('display', 'none');
            $('.RDC').css('display', 'flex');
        }
    });
}

// récupérer les données des directeurs
$.ajax({
    url: '/Direction/all',
    type: 'GET',
    success: function(response) {
        // Gérer l'événement de clic pour la direction dev (index 0)
        $('.dev').on('click', function() {
            displayModal(response, 0);
        });

        // Gérer l'événement de clic pour la direction dam (index 1)
        $('.dam').on('click', function() {
            displayModal(response, 1);
        });
    },
    error: function() {
        alert("Erreur lors de la récupération des informations des directeurs.");
    }
});*/
  $.ajax({
    url:'/Direction/all',
    type:'GET',
    success:function(response)
    {
        $('.dev').on('click',function(){
            $('#InfoModal').css('display','block')
            $('#Nom').text(response[0].nomDirecteur);
            $('#Prenom').text(response[0].prenomDirecteur);
            $('#Email').text(response[0].emailDirecteur);
            $('#Phone').text(response[0].phoneDirecteur);
            $('#Phone').text(response[0].phoneDirecteur);
            $('#nomDirection').text('Directeur de : ' +response[0].nomDirection);
            $('.RDC').css('display','none')
            $(window).on('click', function(event) {
        if ($(event.target).is($('#InfoModal'))) {
            $('#InfoModal').css('display','none')
            $('.RDC').css('display','flex')
        }
    });
        })

        $('.dam').on('click',function(){
            $('#InfoModal').css('display','block')
            $('#Nom').text(response[2].nomDirecteur);
            $('#Prenom').text(response[2].prenomDirecteur);
            $('#Email').text(response[2].emailDirecteur);
            $('#Phone').text(response[2].phoneDirecteur);
            $('#Phone').text(response[2].phoneDirecteur);
            $('#nomDirection').text('Directeur de : ' +response[2].nomDirection);
            $('.RDC').css('display','none')
            $(window).on('click', function(event) {
        if ($(event.target).is($('#InfoModal'))) {
            $('#InfoModal').css('display','none')
            $('.RDC').css('display','flex')
        }
    });
        })

        $('.dloi').on('click',function(){
            $('#InfoModal').css('display','block')
            $('#Nom').text(response[4].nomDirecteur);
            $('#Prenom').text(response[4].prenomDirecteur);
            $('#Email').text(response[4].emailDirecteur);
            $('#Phone').text(response[4].phoneDirecteur);
            $('#Phone').text(response[4].phoneDirecteur);
            $('#nomDirection').text('Directeur de : ' +response[4].nomDirection);
            $('.RDC').css('display','none')
            $(window).on('click', function(event) {
        if ($(event.target).is($('#InfoModal'))) {
            $('#InfoModal').css('display','none')
            $('.RDC').css('display','flex')
        }
    });
        })

        $('.daf').on('click',function(){
            $('#InfoModal').css('display','block')
            $('#Nom').text(response[1].nomDirecteur);
            $('#Prenom').text(response[1].prenomDirecteur);
            $('#Email').text(response[1].emailDirecteur);
            $('#Phone').text(response[1].phoneDirecteur);
            $('#Phone').text(response[1].phoneDirecteur);
            $('#nomDirection').text('Directeur de : ' +response[1].nomDirection);
            $('.RDC').css('display','none')
            $(window).on('click', function(event) {
        if ($(event.target).is($('#InfoModal'))) {
            $('#InfoModal').css('display','none')
            $('.RDC').css('display','flex')
        }
    });
        })
        
        $('.emedia').on('click',function(){
            $('#InfoModal').css('display','block')
            $('#Nom').text(response[3].nomDirecteur);
            $('#Prenom').text(response[3].prenomDirecteur);
            $('#Email').text(response[3].emailDirecteur);
            $('#Phone').text(response[3].phoneDirecteur);
            $('#Phone').text(response[3].phoneDirecteur);
            $('#nomDirection').text('Directeur de : ' +response[3].nomDirection);
            $('.RDC').css('display','none')
            $(window).on('click', function(event) {
        if ($(event.target).is($('#InfoModal'))) {
            $('#InfoModal').css('display','none')
            $('.RDC').css('display','flex')
        }
    });
        })
        
        $('.media').on('click',function(){
            $('#InfoModal').css('display','block')
            $('#Nom').text(response[5].nomDirecteur);
            $('#Prenom').text(response[5].prenomDirecteur);
            $('#Email').text(response[5].emailDirecteur);
            $('#Phone').text(response[5].phoneDirecteur);
            $('#Phone').text(response[5].phoneDirecteur);
            $('#nomDirection').text('Directeur de : ' +response[5].nomDirection);
            $('.RDC').css('display','none')
            $(window).on('click', function(event) {
        if ($(event.target).is($('#InfoModal'))) {
            $('#InfoModal').css('display','none')
            $('.RDC').css('display','flex')
        }
    });
        })

        $('.inspictiong').on('click',function(){
            $('#InfoModal').css('display','block')
            $('#Nom').text(response[6].nomDirecteur);
            $('#Prenom').text(response[6].prenomDirecteur);
            $('#Email').text(response[6].emailDirecteur);
            $('#Phone').text(response[6].phoneDirecteur);
            $('#Phone').text(response[6].phoneDirecteur);
            $('#nomDirection').text(response[6].nomDirection);
            $('.RDC').css('display','none')
            $(window).on('click', function(event) {
        if ($(event.target).is($('#InfoModal'))) {
            $('#InfoModal').css('display','none')
            $('.RDC').css('display','flex')
        }
    });
        })
    }
  })
  
</script>

</body>

</html>