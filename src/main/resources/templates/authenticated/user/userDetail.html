<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.w3.org/1999/xhtml">

<head th:replace="authenticated/fragments/header::header(${'title'},${'description'},${'keywords'})">
</head>


<body>

<!-- ======= Header ======= -->
<header th:replace="authenticated/fragments/navbar::header"></header>
<!-- End Header -->

<!-- ======= Sidebar ======= -->
<aside th:replace="authenticated/fragments/navside::sidebar"></aside>
<!-- End Sidebar-->


<main id="main" class="main">
    <div class="card">
        <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">
            <img th:src="@{'/user/imgPro/'+${user.getId()}+'/images/profileImage'}"


                 height="100px" width="100px"
                 class="rounded-circle">


            <h2 th:text="${user.getFirstname()+'  '+user.getLastname()}"></h2>
            <h3 th:text="${user.getFonction()}"></h3>
            <div class="social-links mt-2" hidden="hidden">
                <a href="#" class="twitter"><i class="bi bi-twitter"></i></a>
                <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
                <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
                <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
            </div>


            <div class="">
                <div class="card-body">
                    <h5 class="card-title">Profile Details</h5>
                    <!-- Active Table -->
                    <table class="table table-borderless">
                        <thead>
                        <tr hidden="hidden">
                            <th scope="col">#</th>
                            <th scope="col">Name</th>

                        </tr>
                        </thead>
                        <tbody>



                        <tr>
                            <th>First name</th>
                            <td th:text="${user.getFirstname()}"></td>
                        </tr>

                        <tr>
                            <th>Last name</th>
                            <td th:text="${user.getLastname()}"></td>
                        </tr>
                        <tr>
                            <th scope="row">User name</th>
                            <td th:text="${user.getUsername()}"></td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td th:text="${user.getEmail()}"></td>
                        </tr>
                        <tr>
                            <th scope="row">Address office</th>
                            <td th:text="${user.getAddressoffice()}"></td>
                        </tr>


                        <tr>
                            <th scope="row">Phone office</th>
                            <td th:text="${user.getPhoneoffice()}"></td>
                        </tr>
                        <tr>
                            <th scope="row">Mobile</th>
                            <td th:text="${user.getMobile()}"></td>
                        </tr>
                        <tr>
                            <th scope="row">Fonction</th>
                            <td th:text="${user.getFonction()}"></td>
                        </tr>
                        <tr>
                            <th scope="row">Role</th>
                            <td th:text="${user.getRole()}"></td>
                        </tr>

                        <tr hidden="hidden">
                            <th scope="row">Photo de profil</th>
                            <td>
                                <form>
                                    <div class="row">
                                        <div class="col-sm">
                                            <input class="form-control" type="file" name="ll" th:value="${filePathImg}">
                                            <a th:href="@{'/profile/imgProPath/'+${user.getId()}+'/images/profileImage'}"
                                               target="_blank"
                                            ></a>
                                            <!-- Add other multimedia details as needed -->
                                        </div>
                                        <div class="col-sm">
                                            <a href="#" class="btn btn-info btn-sm" title="Update"><i
                                                    class="ri-edit-2-line text-white"></i></a>
                                            <a href="#" class="btn btn-danger btn-sm" title="Remove"><i
                                                    class="bi bi-trash"></i></a>
                                        </div>
                                    </div>
                                </form>
                            </td>
                        </tr>
                        <tr>
                            <th th:if="${!user.getMultimediaList().isEmpty()}" th:text="Documents" scope="row"></th>
                            <td th:if="${!user.getMultimediaList().isEmpty()}" >
                                <div class="row">
                                    <div class="col-sm" >
                                        <ul class="list-group">
                                            <li class="list-group-item"  th:each="multimedia : ${user.getMultimediaList()}">

                                                <i th:if="${multimedia.getFilePath()=='images'}" class=" bx bxs-file-image" ></i>
                                                <i th:if="${multimedia.getFilePath()=='pdfs'}" class=" bx bxs-file-pdf" ></i>
                                                <i th:if="${multimedia.getFilePath()=='videos'}" class=" bx bxs-video" ></i>
                                                <i th:if="${multimedia.getFilePath()=='other'}" class="bi bi-file-text-fill" ></i>

                                                <a  th:href="@{'/user/multimedia/'+${multimedia.getFilePath()}+'/'+${multimedia.getFileName()}}"
                                                   th:text="${#strings.arraySplit(multimedia.getFileName(), '_')[1] }"
                                                   target="_blank"
                                                ></a>
                                                <span th:if="${multimedia.getDocType()=='profileImage'}"  th:text="'( Profile picture )'"></span>
                                                <!-- Add other multimedia details as needed -->


                                            </li>
                                        </ul>
                                        <!-- Add other multimedia details as needed -->
                                    </div>

                                </div>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                    <!-- End Tables without borders -->
                </div>
            </div>
        </div>
    </div>
</main><!-- End #main -->


<!-- ======= Footer ======= -->
<footer th:replace="authenticated/fragments/footer::footer" class="footer">
</footer><!-- End Footer -->

<!-- Template Main JS File -->
<div th:replace="authenticated/fragments/js::js"></div>


</body>
</html>